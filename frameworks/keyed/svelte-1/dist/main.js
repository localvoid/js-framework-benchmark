function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t}function c(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function l(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}let m;function g(e){m=e}const b=[],h=Promise.resolve();let y=!1;const v=[],w=[],k=[];function x(e){w.push(e)}function N(){const e=new Set;do{for(;b.length;){const e=b.shift();g(e),_(e.$$)}for(;v.length;)v.shift()();for(;w.length;){const t=w.pop();e.has(t)||(t(),e.add(t))}}while(b.length);for(;k.length;)k.pop()();y=!1}function _(e){e.fragment&&(e.update(e.dirty),r(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(x))}let E;function L(e,t){var n;n=()=>{!function(e,t){e.d(1),t.delete(e.key)}(e,t)},E.callbacks.push(n),e.o(1)}function M(e,n,a){const{fragment:c,on_mount:l,on_destroy:s,after_render:i}=e.$$;c.m(n,a),x(()=>{const n=l.map(t).filter(o);s?s.push(...n):r(n),e.$$.on_mount=[]}),i.forEach(x)}function S(e,t){e.$$.dirty||(b.push(e),y||(y=!0,h.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function A(t,o,a,c,l,s){const i=m;g(t);const d=o.props||{},u=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let f=!1;u.ctx=a?a(t,d,(e,n)=>{u.ctx&&l(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),f&&S(t,e))}):d,u.update(),f=!0,r(u.before_render),u.fragment=c(u.ctx),o.target&&(o.hydrate?u.fragment.l(function(e){return Array.from(e.childNodes)}(o.target)):u.fragment.c(),o.intro&&t.$$.fragment.i&&t.$$.fragment.i(),M(t,o.target,o.anchor),N()),g(i)}class C{$destroy(){var t,n;n=!0,(t=this).$$&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function j(t,n=e){let r;const o=[];function a(e){if(a=e,(n=t)!=n?a==a:n!==a||n&&"object"==typeof n||"function"==typeof n){if(t=e,!r)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}var n,a}return{set:a,update:function(e){a(e(t))},subscribe:function(c,l=e){const s=[c,l];return o.push(s),1===o.length&&(r=n(a)||e),c(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&r()}}}}const q=j([]),O=j(-1);function z(t){var n,r,o,a;return{c(){n=d("div"),r=d("button"),o=u(t.title),r.type="button",r.className="btn btn-primary btn-block",r.id=t.id,n.className="col-sm-6 smallpad",a=$(r,"click",t.cb)},m(e,t){s(e,n,t),l(n,r),l(r,o)},p(e,t){e.title&&p(o,t.title),e.id&&(r.id=t.id)},i:e,o:e,d(e){e&&i(n),a()}}}function T(e,t,n){let{id:r,title:o,cb:a}=t;return e.$set=e=>{"id"in e&&n("id",r=e.id),"title"in e&&n("title",o=e.title),"cb"in e&&n("cb",a=e.cb)},{id:r,title:o,cb:a}}class B extends C{constructor(e){super(),A(this,e,T,z,a,["id","title","cb"])}}function H(t){var n,r;return{c(){var e,o,a;(n=d("span")).className=r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove",e=n,o="aria-hidden",null==(a="true")?e.removeAttribute(o):e.setAttribute(o,a)},m(e,t){s(e,n,t)},p(e,t){e.preload&&r!==(r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove")&&(n.className=r)},i:e,o:e,d(e){e&&i(n)}}}function I(e,t,n){let{preload:r=!1}=t;return e.$set=e=>{"preload"in e&&n("preload",r=e.preload)},{preload:r}}class P extends C{constructor(e){super(),A(this,e,I,H,a,["preload"])}}function R(e){var t,n,o,a,c,m,g,b,h,y,v,w,k,x,N,_=new P({});return{c(){t=d("tr"),n=d("td"),o=u(e.id),a=f(),c=d("td"),m=d("a"),g=u(e.label),b=f(),h=d("td"),y=d("a"),_.$$.fragment.c(),v=f(),w=d("td"),n.className="col-md-1",c.className="col-md-4",h.className="col-md-1",w.className="col-md-6",t.className=k=e.$selected===e.id?"danger":"",N=[$(m,"click",e.select),$(y,"click",e.remove)]},m(e,r){s(e,t,r),l(t,n),l(n,o),l(t,a),l(t,c),l(c,m),l(m,g),l(t,b),l(t,h),l(h,y),M(_,y,null),l(t,v),l(t,w),x=!0},p(e,n){x&&!e.id||p(o,n.id),x&&!e.label||p(g,n.label),x&&!e.$selected&&!e.id||k===(k=n.$selected===n.id?"danger":"")||(t.className=k)},i(e){x||(_.$$.fragment.i(e),x=!0)},o(e){_.$$.fragment.o(e),x=!1},d(e){e&&i(t),_.$destroy(),r(N)}}}function U(e,t,n){let r;c(e,O,e=>{n("$selected",r=e)});let{id:o,label:a}=t;return e.$set=e=>{"id"in e&&n("id",o=e.id),"label"in e&&n("label",a=e.label)},{id:o,label:a,select:function(){O.set(o)},remove:function(){q.update(e=>{const t=e.findIndex(e=>e.id===o),n=e.slice();return n.splice(t,1),n})},$selected:r}}class D extends C{constructor(e){super(),A(this,e,U,R,a,["id","label"])}}function F(e,t,n){const r=Object.create(e);return r.row=t[n],r.num=n,r}function G(e,t){var n,r,o=new D({props:{id:t.row.id,label:t.row.label}});return{key:e,first:null,c(){n=u(""),o.$$.fragment.c(),this.first=n},m(e,t){s(e,n,t),M(o,e,t),r=!0},p(e,t){var n={};e.$data&&(n.id=t.row.id),e.$data&&(n.label=t.row.label),o.$set(n)},i(e){r||(o.$$.fragment.i(e),r=!0)},o(e){o.$$.fragment.o(e),r=!1},d(e){e&&i(n),o.$destroy(e)}}}function J(e){var t,n,o,a,c,u,$,p,m,g,b,h,y,v,w,k,x=[],N=new Map,_=new B({props:{id:"run",title:"Create 1,000 rows",cb:e.run}}),S=new B({props:{id:"runlots",title:"Create 10,000 rows",cb:e.runLots}}),A=new B({props:{id:"add",title:"Append 1,000 rows",cb:e.add}}),C=new B({props:{id:"update",title:"Update every 10th row",cb:K}}),j=new B({props:{id:"clear",title:"Clear",cb:Q}}),q=new B({props:{id:"swaprows",title:"Swap rows",cb:V}}),O=e.$data;const z=e=>e.row.id;for(var T=0;T<O.length;T+=1){let t=F(e,O,T),n=z(t);N.set(n,x[T]=G(n,t))}var H=new P({props:{preload:!0}});return{c(){for(t=d("div"),n=d("div"),(o=d("div")).innerHTML="<h1>Svelte (keyed)</h1>",a=f(),c=d("div"),u=d("div"),_.$$.fragment.c(),$=f(),S.$$.fragment.c(),p=f(),A.$$.fragment.c(),m=f(),C.$$.fragment.c(),g=f(),j.$$.fragment.c(),b=f(),q.$$.fragment.c(),h=f(),y=d("table"),v=d("tbody"),T=0;T<x.length;T+=1)x[T].c();w=f(),H.$$.fragment.c(),o.className="col-md-6",u.className="row",c.className="col-md-6",n.className="row",t.className="jumbotron",y.className="table table-hover table-striped test-data"},m(e,r){for(s(e,t,r),l(t,n),l(n,o),l(n,a),l(n,c),l(c,u),M(_,u,null),l(u,$),M(S,u,null),l(u,p),M(A,u,null),l(u,m),M(C,u,null),l(u,g),M(j,u,null),l(u,b),M(q,u,null),s(e,h,r),s(e,y,r),l(y,v),T=0;T<x.length;T+=1)x[T].m(v,null);s(e,w,r),M(H,e,r),k=!0},p(e,t){var n={};e.run&&(n.cb=t.run),_.$set(n);var o={};e.runLots&&(o.cb=t.runLots),S.$set(o);var a={};e.add&&(a.cb=t.add),A.$set(a);var c={};e.update&&(c.cb=K),C.$set(c);var l={};e.clear&&(l.cb=Q),j.$set(l);var s={};e.swapRows&&(s.cb=V),q.$set(s);const i=t.$data;E={remaining:0,callbacks:[]},x=function(e,t,n,r,o,a,c,l,s,i,d,u){let f=e.length,$=a.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],b=new Map,h=new Map;for(p=$;p--;){const e=u(o,a,p),l=n(e);let s=c.get(l);s?r&&s.p(t,e):(s=i(l,e)).c(),b.set(l,g[p]=s),l in m&&h.set(l,Math.abs(p-m[l]))}const y=new Set,v=new Set;function w(e){e.i&&e.i(1),e.m(l,d),c.set(e.key,e),d=e.first,$--}for(;f&&$;){const t=g[$-1],n=e[f-1],r=t.key,o=n.key;t===n?(d=t.first,f--,$--):b.has(o)?!c.has(r)||y.has(r)?w(t):v.has(o)?f--:h.get(r)>h.get(o)?(v.add(r),w(t)):(y.add(o),f--):(s(n,c),f--)}for(;f--;){const t=e[f];b.has(t.key)||s(t,c)}for(;$;)w(g[$-1]);return g}(x,e,z,1,t,i,N,v,L,G,null,F),E.remaining||r(E.callbacks)},i(e){if(!k){_.$$.fragment.i(e),S.$$.fragment.i(e),A.$$.fragment.i(e),C.$$.fragment.i(e),j.$$.fragment.i(e),q.$$.fragment.i(e);for(var t=0;t<O.length;t+=1)x[t].i();H.$$.fragment.i(e),k=!0}},o(e){for(_.$$.fragment.o(e),S.$$.fragment.o(e),A.$$.fragment.o(e),C.$$.fragment.o(e),j.$$.fragment.o(e),q.$$.fragment.o(e),T=0;T<x.length;T+=1)x[T].o();H.$$.fragment.o(e),k=!1},d(e){for(e&&i(t),_.$destroy(),S.$destroy(),A.$destroy(),C.$destroy(),j.$destroy(),q.$destroy(),e&&(i(h),i(y)),T=0;T<x.length;T+=1)x[T].d();e&&i(w),H.$destroy(e)}}}function K(){q.update(e=>{e=e.slice();for(let t=0;t<e.length;t+=10){const n=e[t];e[t]={id:n.id,label:n.label+" !!!"}}return e})}function Q(){q.set([]),O.set(-1)}function V(){q.update(e=>{const t=(e=e.slice())[1];return e[1]=e[998],e[998]=t,e})}function W(e,t,n){let r;c(e,q,e=>{n("$data",r=e)});let o=0;const a=e=>{return o++%e},l=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],s=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],i=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];let d=1;function u(e){const t=Array(e);for(let n=0;n<e;n++)t[n]={id:d++,label:`${l[a(l.length)]} ${s[a(s.length)]} ${i[a(i.length)]}`};return t}return{run:function(){q.set(u(1e3))},add:function(){q.update(e=>e.concat(u(1e3)))},runLots:function(){q.set(u(1e4)),O.set(-1)},$data:r}}new class extends C{constructor(e){super(),A(this,e,W,J,a,[])}}({target:document.querySelector("#main")});
